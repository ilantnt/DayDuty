{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ilan\\\\dev\\\\palpi\\\\toran-app\\\\DayDuty\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport React, { Fragment, useState, useEffect } from \"react\";\n\nfunction DataFetch(props) {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1]; //just holds the name of url query\n\n\n  const _useState3 = useState(\"http://localhost:5000/get_toranim\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        baseUrl = _useState4[0],\n        setBaseUrl = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isLoading = _useState6[0],\n        setIsLoading = _useState6[1];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      let dates = props.dates;\n      console.log(\"pppppppppppppppppppppppp\");\n      setBaseUrl(baseUrl);\n      console.log(baseUrl);\n      var url = new URL(baseUrl);\n      var params = {\n        dates: dates\n      };\n      url.search = new URLSearchParams(params).toString();\n      setBaseUrl(url); //   fetch(url)\n      //     .then(res => res.json())\n      //     .then(info => setData(info));\n\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, [baseUrl]);\n  return isLoading ? \"wait\" : data;\n}\n\nexport default DataFetch;","map":{"version":3,"sources":["C:/Users/ilan/dev/palpi/toran-app/DayDuty/src/Components/DataFetch.jsx"],"names":["React","Fragment","useState","useEffect","DataFetch","props","data","setData","baseUrl","setBaseUrl","isLoading","setIsLoading","fetchData","dates","console","log","url","URL","params","search","URLSearchParams","toString"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,QAA1B,EAAoCC,SAApC,QAAqD,OAArD;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA,oBACAH,QAAQ,CAAC,IAAD,CADR;AAAA;AAAA,QACjBI,IADiB;AAAA,QACXC,OADW,kBAExB;;;AAFwB,qBAGML,QAAQ,CAAC,mCAAD,CAHd;AAAA;AAAA,QAGjBM,OAHiB;AAAA,QAGRC,UAHQ;;AAAA,qBAIUP,QAAQ,CAAC,KAAD,CAJlB;AAAA;AAAA,QAIjBQ,SAJiB;AAAA,QAINC,YAJM;;AAMxBR,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,SAAS,GAAG,YAAY;AAC5BD,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,UAAIE,KAAK,GAAGR,KAAK,CAACQ,KAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAN,MAAAA,UAAU,CAACD,OAAD,CAAV;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ;AACA,UAAIQ,GAAG,GAAG,IAAIC,GAAJ,CAAQT,OAAR,CAAV;AACA,UAAIU,MAAM,GAAG;AAAEL,QAAAA,KAAK,EAAEA;AAAT,OAAb;AACAG,MAAAA,GAAG,CAACG,MAAJ,GAAa,IAAIC,eAAJ,CAAoBF,MAApB,EAA4BG,QAA5B,EAAb;AACAZ,MAAAA,UAAU,CAACO,GAAD,CAAV,CAT4B,CAU5B;AACA;AACA;;AACAL,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAdD;;AAeAC,IAAAA,SAAS;AACV,GAjBQ,EAiBN,CAACJ,OAAD,CAjBM,CAAT;AAmBA,SAAOE,SAAS,GAAG,MAAH,GAAYJ,IAA5B;AACD;;AACD,eAAeF,SAAf","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\n\r\nfunction DataFetch(props) {\r\n  const [data, setData] = useState(null);\r\n  //just holds the name of url query\r\n  const [baseUrl, setBaseUrl] = useState(\"http://localhost:5000/get_toranim\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      let dates = props.dates;\r\n      console.log(\"pppppppppppppppppppppppp\");\r\n      setBaseUrl(baseUrl);\r\n      console.log(baseUrl);\r\n      var url = new URL(baseUrl);\r\n      var params = { dates: dates };\r\n      url.search = new URLSearchParams(params).toString();\r\n      setBaseUrl(url);\r\n      //   fetch(url)\r\n      //     .then(res => res.json())\r\n      //     .then(info => setData(info));\r\n      setIsLoading(false);\r\n    };\r\n    fetchData();\r\n  }, [baseUrl]);\r\n\r\n  return isLoading ? \"wait\" : data;\r\n}\r\nexport default DataFetch;\r\n"]},"metadata":{},"sourceType":"module"}